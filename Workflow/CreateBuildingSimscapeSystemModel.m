%[text] %[text:anchor:M_5cf5] # Create Building Simscape System Model
%[text] Copyright 2025 - 2026 The MathWorks, Inc.
%[text:tableOfContents]{"heading":"Table of Contents"}
%[text] In this section, you will learn how to launch a new model and add building libraries. The utilities help add the environment and solar custom components from the `Simscape Custom Library` to the model automatically.
%[text] Specify a new name for your system model.
modelData.mySystemModel = "MyBuildingModel";
%[text] ## Specify Location and Duration
%[text] Specify a location for the building.
modelData.location = getGeoLocationForMajorCities(CityName="Vienna");
%[text] Specify `datetime` parameters for analysis.
modelData.startDate = datetime(2024,1,1,1,0,0);
modelData.endDate = datetime(2024,1,20,1,0,0);
modelData.nDays = days(modelData.endDate-modelData.startDate);
modelData.nHour = hours(modelData.endDate-modelData.startDate);
%[text] Specify day and night temperature for each day of the specified `datetime` value. If you provide one temperature value, then the model uses the same temperature for each day. 
modelData.dayT = simscape.Value(275*ones(1,modelData.nDays),"K");
modelData.nightT = simscape.Value(271*ones(1,modelData.nDays),"K");
%[text] ## Setup System Model
%[text] Create a new model and add custom building library blocks to it. This step creates an initial model, which you complete to build your system model for analysis based on your requirements.
setUpBuildingModel(NewModelName=modelData.mySystemModel,... %[output:group:80a6e052] %[output:2352ae5b]
                   BuildingLibName="BuildingThermal",... %[output:2352ae5b]
                   Diagnostics=true,... %[output:2352ae5b]
                   GeoLocation=modelData.location,... %[output:2352ae5b]
                   StartTime=modelData.startDate,... %[output:2352ae5b]
                   EndTime=modelData.endDate,... %[output:2352ae5b]
                   DayTimeTemperature=modelData.dayT,... %[output:2352ae5b]
                   NightTimeTemperature=modelData.nightT); %[output:group:80a6e052] %[output:2352ae5b]
%[text] The `setUpBuildingModel` function adds all relevant blocks and parameterizes them for the location, date, and initial temperature data. If the duration is less than 2 days, the function connects a Temperature Source block to the building library. Otherwise, the function adds the `Simscape Custom Library` block Temperature Source (LUT) and connects it to the building library. 

%[appendix]{"version":"1.0"}
%---
%[metadata:view]
%   data: {"layout":"onright","rightPanelPercent":34.7}
%---
%[output:2352ae5b]
%   data: {"dataType":"text","outputData":{"text":"*** Set daily schedule in block MyBuildingModel\/DayScheduler\n*** Block <TemperatureSource_lib> found in the model.\n*** Set initial temperature for Building Library to 274.7K.\n(1)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(2)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(3)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(4)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(5)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(6)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(7)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(8)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(9)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(10)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(11)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(12)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(13)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(14)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(15)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(16)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(17)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(18)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(19)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(20)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(21)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(22)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(23)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(24)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(25)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(26)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(27)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(28)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(29)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(30)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(2)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(3)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(4)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(5)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(6)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(7)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(1)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(2)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(3)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(4)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(5)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(6)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(7)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(8)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(9)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(10)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(11)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(12)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(13)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(14)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(15)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(2)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(3)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(4)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(5)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(6)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(7)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(1)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(2)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(3)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(4)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(5)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(6)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(7)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(8)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(9)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(10)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(11)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(12)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(13)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(14)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(15)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block RoomWithAirVolume for initial temperature value of 274.7K.\n(1)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(2)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(3)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(4)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(5)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(6)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(7)Parameterize Block WallSelector_lib for initial temperature value of 274.7K.\n(1)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(2)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(3)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(4)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(5)Parameterize Block ExternalWall_lib for initial temperature value of 274.7K.\n(1) Parameterize Block TemperatureSource_lib, at path MyBuildingModel\/Ambient\n(2) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R1W1)\n(3) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R1W2)\n(4) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R2W2)\n(5) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R2W3)\n(6) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R2W4)\n(7) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R3W1)\n(8) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R3W3)\n(9) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R3W4)\n(10) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R4W1)\n(11) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R4W2)\n(12) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R4W3)\n(13) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R5W1)\n(14) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R5W2)\n(15) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level0\/ExtWall (A1R5W4)\n(16) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R1W1)\n(17) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R1W2)\n(18) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R2W2)\n(19) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R2W3)\n(20) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R2W4)\n(21) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R3W1)\n(22) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R3W3)\n(23) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R3W4)\n(24) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R4W1)\n(25) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R4W2)\n(26) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R4W3)\n(27) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R5W1)\n(28) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R5W2)\n(29) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level1\/ExtWall (A2R5W4)\n(30) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R1W1)\n(31) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R1W2)\n(32) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R2W2)\n(33) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R2W3)\n(34) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R2W4)\n(35) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R3W1)\n(36) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R3W3)\n(37) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R3W4)\n(38) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R4W1)\n(39) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R4W2)\n(40) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R4W3)\n(41) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R5W1)\n(42) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R5W2)\n(43) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Level2\/ExtWall (A3R5W4)\n(44) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Roof\/Roof_A3R1(LivingRoom)Blk\n(45) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Roof\/Roof_A3R2(Bedroom)Blk\n(46) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Roof\/Roof_A3R3(Kitchen)Blk\n(47) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Roof\/Roof_A3R4(Bathroom)Blk\n(48) Parameterize Block ExternalWall_lib, at path MyBuildingModel\/BuildingThermal\/Roof\/Roof_A3R5(FireExit)Blk\n(49) Parameterize Block SolarRadiationAtLocation_lib, at path MyBuildingModel\/Solar Radiation\n","truncated":false}}
%---
